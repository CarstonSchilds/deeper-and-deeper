[gd_scene load_steps=6 format=2]

[ext_resource path="res://entities/enemies/Enemy.tscn" type="PackedScene" id=1]
[ext_resource path="res://entities/enemies/piranha/PirannahBrain.gd" type="Script" id=2]
[ext_resource path="res://assets/sounds/06 Bloop.wav" type="AudioStream" id=3]
[ext_resource path="res://entities/enemies/piranha/Piranha.gd" type="Script" id=4]

[sub_resource type="GDScript" id=1]
script/source = "extends AudioStreamPlayer2D

func _on_Brain_state_changed(current_state):
	var name = current_state.get_class()
	if name == \"pursue\":
		if !self.playing:
			self.play()
"

[node name="Piranha" instance=ExtResource( 1 )]
script = ExtResource( 4 )

[node name="AnimatedSprite" parent="SpritePosition" index="0"]
frame = 2
playing = true

[node name="Brain" parent="." index="3"]
script = ExtResource( 2 )

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="." index="4"]
stream = ExtResource( 3 )
volume_db = -2.0
script = SubResource( 1 )

[connection signal="state_changed" from="Brain" to="AudioStreamPlayer2D" method="_on_Brain_state_changed"]
